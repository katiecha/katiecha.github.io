YUI.add("flickr-route",(function(r,e){var t=require("hermes-core/flog")(e),i=require("hermes-core/type-validator");r.Routes=r.Routes||{},r.FlickrRoute=function(r){this.appContext=r},r.FlickrRoute.prototype={run:function(){},setRouteDataOnHistory:function(e,t){return r.HistoryHelper.setData(this.name,e,t)},getRouteDataFromHistory:function(e){return r.HistoryHelper.getData(this.name,e)},getRouteMetaValue:function(r,e){return this.appContext.routeConfig.meta?e?this.appContext.routeConfig.meta[r]?this.appContext.routeConfig.meta[r]:e:this.appContext.routeConfig.meta[r]?this.appContext.routeConfig.meta[r]:null:null},displayServerErrorOrClientRedirect:function(e,t,i){return YUI.Env.isServer?this.displayRouteErrors(e,new r.RouteError(404,t)):r.Promise.resolve({redirect:i||e.url})},detectRouteErrors:function(){var e=r.Array(arguments);return e.filter((function(e,t){return e instanceof r.RouteError})).sort((function(r,e){return r.type-e.type}))},displayRouteErrors:function(e,t){var i=r.Lang.isArray(t)?t[0]:t;return r.Promise.resolve(this["display"+i.type+"Error"](e,i))},display500Error:function(e,i){var a,s,o;return a={view:"error-500-page-view",params:{},headers:{statusCode:500}},(r.config.flickr.error.show_debugging_info||e.isPossiblyAdminUser||this.appContext&&this.appContext.auth&&this.appContext.auth.isPossiblyAdminUser)&&(a.params.source="flickrRoute#display500Error",a.params.message=i.message,a.params.stack=i.stack,a.params.apiMethod=i.apiMethod),YUI.Env.isServer||(a.params.message=i.message,a.params.apiMethod=i.apiMethod),e.id&&(a.params.requestID=e.id),i&&"SiteAuth"===i.type&&(i.redirect?(s=YUI.Env.isServer?e.protocol+"://"+e.hostname+e.originalUrl:e.url,o=r.url("/siteauth/?redirect_url="+encodeURIComponent(s)),YUI.Env.isServer&&t.info("Redirecting to siteauth"),a={redirect:o}):YUI.Env.isServer&&(a.params.siteAuthFailure=!0)),void 0===a.redirect?t.info("render",{status:500,req:e,err:i,isBot:this.appContext.getUA().isBot}):t.info("redirect",{status:302,req:e,location:a.redirect,isBot:this.appContext.getUA().isBot}),a},display303Error:function(r,e){return{redirect:e.options.redirect,headers:{statusCode:303}}},display403Error:function(r,e){return this.displayStandardErrorPage(r,e,403)},display404Error:function(r,e){return e=e||new Error("404"),t.info("render",{status:404,url:r.url,err:e,isBot:this.appContext.getUA().isBot}),this.displayStandardErrorPage(r,e,404)},display410Error:function(r,e){return this.displayStandardErrorPage(r,e,410)},displayStandardErrorPage:function(e,t,i){var a;return t=t||{},a={view:"fluid-error-page-view",params:{statusCode:i,url:e.url,message:t.message,catchAll:t.catchAll||!1},headers:{statusCode:i}},t.data&&(a.params=r.merge(a.params,t.data)),(r.config.flickr.error.show_debugging_info||e.isPossiblyAdminUser||this.appContext&&this.appContext.auth&&this.appContext.auth.isPossiblyAdminUser)&&(a.params.source="flickrRoute#display"+i+"Error",a.params.message=t.message),e.id&&(a.params.requestID=e.id),a},getPageNumber:function(r,e){var t=parseInt(r.params[e||"page_number"],10);return(isNaN(t)||t<=1)&&(t=1),t},getNSIDOrPathAlias:function(r){var e;return i.nsid(r)?e=r:i.pathAlias(r)?e={pathAlias:r}:t.warn("Couldn't identify "+r+" as an nsid or path alias."),e}},r.RouteError=function(r,e,t){this.type=r,this.message=e||"",this.data=t||{}}}),"@VERSION@",{requires:["flickr-promise","moment","url","history-helper"],optionalRequires:["hermes-core"]});YUI.add("set-meta-models",(function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{langBundles:this.details.langBundles,name:this.name,remote:{},attributes:{displayType:{readOnly:!0,defaultFn:function(){return"set"}},title:{validator:function(t,i){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:""},owner:{isModel:!0},photoCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},videoCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},photoCountDisplay:{readOnly:!0,derivedBy:["owner"],defaultFn:function(e){var t=this.getValue(e,"photoCount"),i=this.getValue(e,"videoCount"),n="";return 0===(t-=i)&&0===i?n=this.intlMessage({intlName:"models.ZERO_PHOTOS"}):1===t&&0===i?n=this.intlMessage({intlName:"models.ONE_PHOTO"}):t>1&&0===i?n=this.intlMessage({intlName:"models.MULTIPLE_PHOTOS",photos:t}):0===t&&1===i?n=this.intlMessage({intlName:"models.ONE_VIDEO"}):1===t&&1===i?n=this.intlMessage({intlName:"models.ONE_PHOTO_AND_ONE_VIDEO"}):t>1&&1===i?n=this.intlMessage({intlName:"models.MULTIPLE_PHOTOS_AND_ONE_VIDEO",photos:t}):0===t&&i>1?n=this.intlMessage({intlName:"models.MULTIPLE_VIDEOS",videos:i}):1===t&&i>1?n=this.intlMessage({intlName:"models.ONE_PHOTO_AND_MULTIPLE_VIDEOS",videos:i}):t>1&&i>1&&(n=this.intlMessage({intlName:"models.MULTIPLE_PHOTOS_AND_MULTIPLE_VIDEOS",photos:t,videos:i})),n}},primary:{},primaryPhotoSizes:{},bestIconURL:{readOnly:!0,derivedBy:["primaryPhotoSizes"],defaultFn:function(e){var t=this.getValue(e,"primaryPhotoSizes");return t.sq?t.sq.src:void 0}},url:{readOnly:!0,derivedBy:["owner"],defaultFn:function(e){var t=this.getValue(e,"owner");return t?"/photos/"+t.getValue("pathAlias")+"/albums/"+e:void 0}},isAutoUploadSet:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},urlSuffix:{readOnly:!0,defaultFn:function(e){return"set-"+e}}}})}),"@VERSION@",{requires:["flickr-model-registry","flickr-promise"],langBundles:["models"]});YUI.add("flickr-photosets-search-fetcher",(function(e,t){"use strict";function s(t){var s,r={extras:e.APIHelper.request.getRebootSearchSetsExtras(),per_page:t.perPage||50,page:t.page||1};return s=e.merge(r,t.apiParams||{}),YUI.Env.isServer&&e.SearchHelper.unescapeParameters(s),s}e.namespace("ListFetchers")["flickr-photosets-search"]={run:function(r,o){var a=this,p=r.emptyQuery?{}:s(r),i=p.user_id;return i?e.Promise.all([r.emptyQuery?e.Promise.resolve({photos:{photo:[]}}):o.callAPI("flickr.photosets.search",p),o.getModelRegistry("search-sets-models"),o.getModelRegistry("set-meta-models"),o.getModel("person-models",i)]).then((function(e){return a._processResponse(e,r)}),e.FetcherErrorLogger(t)):e.Promise.reject("[flickr-photosets-search-fetcher] called without `user_id` param")},_processParams:s,_processResponse:function(t,s){var r,o,a=[],p=[],i=t[0],h=t[1],l=t[2],c=i.photosets.photoset.length;for(o=0;o<c;o++)(a=e.APIHelper.response.parsePhotoSetMeta(i.photosets.photoset[o])).owner=t[3],l.addOrUpdate(a),p.push(l.proxy(a.id));return r={id:s.id,sets:p,totalItems:i.photosets.total},h.exists(s.id)&&1!==s.page?h.getValue(s.id,"sets").addPage({page:s.page,perPage:s.perPage,pageContent:p,totalItems:parseInt(i.photosets.total||0,10)}):h.addOrUpdate(r),r.sets}}}),"@VERSION@",{requires:["flickr-promise","search-helper","api-helper","set-meta-models","querystring-parse-simple"],optional:[]});YUI.add("search-sets-models",(function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ListFetchers["flickr-photosets-search"].run(t,this.appContext)}},attributes:{sets:{isCollection:!0,pageFetch:{listFetcher:e.ListFetchers["flickr-photosets-search"],listItemIdField:"id"}},apiParams:{writeOnce:"initOnly"},totalItems:{setter:function(t){return(t=e.AttributeHelpers.coerceInteger(t))<0&&(t=0),t},defaultValue:0},emptyQuery:{defaultValue:!1}}})}),"@VERSION@",{requires:["flickr-model-registry","flickr-photosets-search-fetcher","search-helper"]});YUI.add("hermes-template-search-photos-unified-page-main",(function(n,l){var e=n.Template.Handlebars.revive({1:function(n,l,e,t,o){var a=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t<div class="main search-empty-container">\n\t\t'+n.escapeExpression((a(e,"outlet")||l&&a(l,"outlet")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},null!=l?a(l,"search-empty-view"):l,{name:"outlet",hash:{},data:o,loc:{start:{line:3,column:2},end:{line:3,column:30}}}))+"\n\t</div>\n"},3:function(n,l,e,t,o){var a=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return"\t"+n.escapeExpression((a(e,"outlet")||l&&a(l,"outlet")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},null!=l?a(l,"getty-widget-view"):l,{name:"outlet",hash:{},data:o,loc:{start:{line:8,column:1},end:{line:8,column:29}}}))+"\n"},5:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(a=r(e,"if").call(null!=l?l:n.nullContext||{},null!=l?r(l,"showEmpty"):l,{name:"if",hash:{},fn:n.noop,inverse:n.program(6,o,0),data:o,loc:{start:{line:12,column:1},end:{line:16,column:8}}}))?a:""},6:function(n,l,e,t,o){var a=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t<div class="main search-prints-results">\n\t\t\t'+n.escapeExpression((a(e,"outlet")||l&&a(l,"outlet")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},null!=l?a(l,"search-photos-prints-view"):l,{name:"outlet",hash:{},data:o,loc:{start:{line:14,column:3},end:{line:14,column:39}}}))+"\n\t\t</div>\n"},8:function(n,l,e,t,o){var a=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t<div class="albums-galleries">\n\t\t<div class="main search-your-albums-results">\n\t\t'+n.escapeExpression((a(e,"outlet")||l&&a(l,"outlet")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},null!=l?a(l,"search-photos-albums-view"):l,{name:"outlet",hash:{},data:o,loc:{start:{line:22,column:2},end:{line:22,column:38}}}))+"\n\t\t</div>\n\t</div>\n"},10:function(n,l,e,t,o){var a=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t<div class="main search-your-photos-results">\n\t\t'+n.escapeExpression((a(e,"outlet")||l&&a(l,"outlet")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},null!=l?a(l,"search-photos-yours-view"):l,{name:"outlet",hash:{},data:o,loc:{start:{line:29,column:2},end:{line:29,column:37}}}))+"\n\t</div>\n"},12:function(n,l,e,t,o){var a=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t<div class="main search-contacts-results">\n\t\t'+n.escapeExpression((a(e,"outlet")||l&&a(l,"outlet")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},null!=l?a(l,"search-photos-contacts-view"):l,{name:"outlet",hash:{},data:o,loc:{start:{line:35,column:2},end:{line:35,column:40}}}))+"\n\t</div>\n"},14:function(n,l,e,t,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(a=r(e,"if").call(null!=l?l:n.nullContext||{},null!=l?r(l,"showEmpty"):l,{name:"if",hash:{},fn:n.program(15,o,0),inverse:n.noop,data:o,loc:{start:{line:40,column:1},end:{line:44,column:8}}}))?a:""},15:function(n,l,e,t,o){var a=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t<div class="main moola-search-div">\n\t\t\t'+n.escapeExpression((a(e,"outlet")||l&&a(l,"outlet")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},null!=l?a(l,"moola-search-view"):l,{name:"outlet",hash:{},data:o,loc:{start:{line:42,column:3},end:{line:42,column:31}}}))+"\n\t\t</div>\n"},17:function(n,l,e,t,o){var a=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t<div class="main search-photos-results">\n\t\t'+n.escapeExpression((a(e,"outlet")||l&&a(l,"outlet")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},null!=l?a(l,"search-photos-everyone-view"):l,{name:"outlet",hash:{},data:o,loc:{start:{line:49,column:2},end:{line:49,column:40}}}))+"\n\t</div>\n"},compiler:[8,">= 4.3.0"],main:function(n,l,e,t,o){var a,r=null!=l?l:n.nullContext||{},s=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return(null!=(a=s(e,"if").call(r,null!=l?s(l,"showEmpty"):l,{name:"if",hash:{},fn:n.program(1,o,0),inverse:n.noop,data:o,loc:{start:{line:1,column:0},end:{line:5,column:7}}}))?a:"")+"\n"+(null!=(a=s(e,"if").call(r,null!=l?s(l,"showGetty"):l,{name:"if",hash:{},fn:n.program(3,o,0),inverse:n.noop,data:o,loc:{start:{line:7,column:0},end:{line:9,column:7}}}))?a:"")+"\n"+(null!=(a=s(e,"if").call(r,null!=l?s(l,"showPrints"):l,{name:"if",hash:{},fn:n.program(5,o,0),inverse:n.noop,data:o,loc:{start:{line:11,column:0},end:{line:17,column:7}}}))?a:"")+"\n"+(null!=(a=s(e,"if").call(r,null!=l?s(l,"showAlbums"):l,{name:"if",hash:{},fn:n.program(8,o,0),inverse:n.noop,data:o,loc:{start:{line:19,column:0},end:{line:25,column:7}}}))?a:"")+"\n"+(null!=(a=s(e,"if").call(r,null!=l?s(l,"showYours"):l,{name:"if",hash:{},fn:n.program(10,o,0),inverse:n.noop,data:o,loc:{start:{line:27,column:0},end:{line:31,column:7}}}))?a:"")+"\n"+(null!=(a=s(e,"if").call(r,null!=l?s(l,"showContacts"):l,{name:"if",hash:{},fn:n.program(12,o,0),inverse:n.noop,data:o,loc:{start:{line:33,column:0},end:{line:37,column:7}}}))?a:"")+"\n"+(null!=(a=s(e,"if").call(r,null!=l?s(l,"searchResultsOwnerIsNotPro"):l,{name:"if",hash:{},fn:n.program(14,o,0),inverse:n.noop,data:o,loc:{start:{line:39,column:0},end:{line:45,column:7}}}))?a:"")+"\n"+(null!=(a=s(e,"if").call(r,null!=l?s(l,"showEveryones"):l,{name:"if",hash:{},fn:n.program(17,o,0),inverse:n.noop,data:o,loc:{start:{line:47,column:0},end:{line:51,column:7}}}))?a:"")},useData:!0}),t={};n.Array.each([],(function(l){var e=n.Template.get("hermes/"+l);e&&(t[l]=e)})),n.Template.register("hermes/search-photos-unified-page-main",(function(l,o){return(o=o||{}).partials=o.partials?n.merge(t,o.partials):t,e(l,o)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-search-photos-unified-page-view",(function(e,n){var t=e.Template.Handlebars.revive({1:function(e,n,t,l,a){var o=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"\t"+e.escapeExpression((o(t,"outlet")||n&&o(n,"outlet")||e.hooks.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?o(n,"search-tools-view"):n,{name:"outlet",hash:{},data:a,loc:{start:{line:6,column:1},end:{line:6,column:29}}}))+"\n"},3:function(e,n,t,l,a){return"advanced-panel-visible"},5:function(e,n,t,l,a){var o,r=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return null!=(o=(r(t,"isFlipped")||n&&r(n,"isFlipped")||e.hooks.helperMissing).call(null!=n?n:e.nullContext||{},"enable-search-ads",{name:"isFlipped",hash:{},fn:e.program(6,a,0),inverse:e.noop,data:a,loc:{start:{line:9,column:154},end:{line:9,column:222}}}))?o:""},6:function(e,n,t,l,a){return"moola-search-enabled"},8:function(e,n,t,l,a){var o,r=null!=n?n:e.nullContext||{},i=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'\t\t<div class="search-container-w-sidebar">\n\t\t\t<div class="search-container-w-sidebar-content">\n\t\t\t\t'+e.escapeExpression((i(t,"outlet")||n&&i(n,"outlet")||e.hooks.helperMissing).call(r,null!=n?i(n,"search-tools-view"):n,{name:"outlet",hash:{},data:a,loc:{start:{line:13,column:4},end:{line:13,column:32}}}))+"\n"+(null!=(o=e.invokePartial(i(l,"search-photos-unified-page-main"),n,{name:"search-photos-unified-page-main",data:a,indent:"\t\t\t\t",helpers:t,partials:l,decorators:e.decorators}))?o:"")+"\t\t\t</div>\n\n"+(null!=(o=i(t,"if").call(r,null!=n?i(n,"showSidebar"):n,{name:"if",hash:{},fn:e.program(9,a,0),inverse:e.noop,data:a,loc:{start:{line:17,column:3},end:{line:24,column:10}}}))?o:"")+"\t\t</div>\n\n"},9:function(e,n,t,l,a){var o=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'\t\t\t\t<div class="sidebar-column">\n\t\t\t\t\t<div class="sidebar-column-spacer"></div>\n\t\t\t\t\t<div class="sidebar-content-container">\n\t\t\t\t\t\t'+e.escapeExpression((o(t,"outlet")||n&&o(n,"outlet")||e.hooks.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?o(n,"search-sidebar-view"):n,{name:"outlet",hash:{},data:a,loc:{start:{line:21,column:6},end:{line:21,column:36}}}))+"\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n"},11:function(e,n,t,l,a){var o,r=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return null!=(o=e.invokePartial(r(l,"search-photos-unified-page-main"),n,{name:"search-photos-unified-page-main",data:a,indent:"\t\t",helpers:t,partials:l,decorators:e.decorators}))?o:""},13:function(e,n,t,l,a){var o=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"\t"+e.escapeExpression((o(t,"outlet")||n&&o(n,"outlet")||e.hooks.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?o(n,"footer-full-view"):n,{name:"outlet",hash:{},data:a,loc:{start:{line:34,column:1},end:{line:34,column:28}}}))+"\n"},compiler:[8,">= 4.3.0"],main:function(e,n,t,l,a){var o,r=null!=n?n:e.nullContext||{},i=e.hooks.helperMissing,s=e.escapeExpression,c=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return s((c(t,"outlet")||n&&c(n,"outlet")||i).call(r,null!=n?c(n,"global-nav-view"):n,{name:"outlet",hash:{},data:a,loc:{start:{line:1,column:0},end:{line:1,column:26}}}))+"\n\n"+s((c(t,"outlet")||n&&c(n,"outlet")||i).call(r,null!=n?c(n,"search-subnav-slender-view"):n,{name:"outlet",hash:{},data:a,loc:{start:{line:3,column:0},end:{line:3,column:37}}}))+"\n"+s((c(t,"outlet")||n&&c(n,"outlet")||i).call(r,null!=n?c(n,"search-slender-advanced-panel-view"):n,{name:"outlet",hash:{},data:a,loc:{start:{line:4,column:0},end:{line:4,column:45}}}))+"\n"+(null!=(o=(c(t,"isFlipped")||n&&c(n,"isFlipped")||i).call(r,"enable-search-sidebar",{name:"isFlipped",hash:{},fn:e.noop,inverse:e.program(1,a,0),data:a,loc:{start:{line:5,column:0},end:{line:7,column:14}}}))?o:"")+'\n<main id="search-unified-content" class="main fluid-centered '+(null!=(o=c(t,"if").call(r,null!=n?c(n,"advancedPanelOpen"):n,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a,loc:{start:{line:9,column:61},end:{line:9,column:115}}}))?o:"")+" "+(null!=(o=(c(t,"isFlipped")||n&&c(n,"isFlipped")||i).call(r,"enable-search-sidebar",{name:"isFlipped",hash:{},fn:e.noop,inverse:e.program(5,a,0),data:a,loc:{start:{line:9,column:116},end:{line:9,column:236}}}))?o:"")+'" role="main">\n'+(null!=(o=(c(t,"isFlipped")||n&&c(n,"isFlipped")||i).call(r,"enable-search-sidebar",{name:"isFlipped",hash:{},fn:e.program(8,a,0),inverse:e.program(11,a,0),data:a,loc:{start:{line:10,column:1},end:{line:29,column:15}}}))?o:"")+"\n</main>\n\n"+(null!=(o=c(t,"if").call(r,null!=n?c(n,"showSidebar"):n,{name:"if",hash:{},fn:e.noop,inverse:e.program(13,a,0),data:a,loc:{start:{line:33,column:0},end:{line:35,column:7}}}))?o:"")},usePartial:!0,useData:!0}),l={};e.Array.each(["search-photos-unified-page-main","search-photos-unified-page-main"],(function(n){var t=e.Template.get("hermes/"+n);t&&(l[n]=t)})),e.Template.register("hermes/search-photos-unified-page-view",(function(n,a){return(a=a||{}).partials=a.partials?e.merge(l,a.partials):l,t(n,a)}))}),"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-search-photos-unified-page-main","hermes-template-search-photos-unified-page-main"]});YUI.add("hermes-template-search-subnav",(function(l,n){var t=l.Template.Handlebars.revive({1:function(l,n,t,e,a){var o,i,s=null!=n?n:l.nullContext||{},r=l.hooks.helperMissing,c="function",u=l.escapeExpression,d=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return'\t\t\t\t<li class="link'+(null!=(o=d(t,"if").call(s,null!=n?d(n,"selected"):n,{name:"if",hash:{},fn:l.program(2,a,0),inverse:l.noop,data:a,loc:{start:{line:7,column:19},end:{line:7,column:51}}}))?o:"")+'" data-id="'+u(typeof(i=null!=(i=d(t,"id")||(null!=n?d(n,"id"):n))?i:r)===c?i.call(s,{name:"id",hash:{},data:a,loc:{start:{line:7,column:62},end:{line:7,column:68}}}):i)+'">\n\t\t\t\t\t'+(null!=(o=d(t,"if").call(s,null!=n?d(n,"url"):n,{name:"if",hash:{},fn:l.program(4,a,0),inverse:l.noop,data:a,loc:{start:{line:8,column:5},end:{line:8,column:41}}}))?o:"")+'\n\t\t\t\t\t\t<div class="title">'+u(typeof(i=null!=(i=d(t,"title")||(null!=n?d(n,"title"):n))?i:r)===c?i.call(s,{name:"title",hash:{},data:a,loc:{start:{line:9,column:25},end:{line:9,column:34}}}):i)+"</div>\n"+(null!=(o=d(t,"if").call(s,null!=n?d(n,"subtitle"):n,{name:"if",hash:{},fn:l.program(6,a,0),inverse:l.noop,data:a,loc:{start:{line:10,column:6},end:{line:12,column:13}}}))?o:"")+"\t\t\t\t\t"+(null!=(o=d(t,"if").call(s,null!=n?d(n,"url"):n,{name:"if",hash:{},fn:l.program(8,a,0),inverse:l.noop,data:a,loc:{start:{line:16,column:5},end:{line:16,column:27}}}))?o:"")+"\n\t\t\t\t</li>\n"},2:function(l,n,t,e,a){return" selected"},4:function(l,n,t,e,a){var o,i=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return'<a href="'+l.escapeExpression("function"==typeof(o=null!=(o=i(t,"url")||(null!=n?i(n,"url"):n))?o:l.hooks.helperMissing)?o.call(null!=n?n:l.nullContext||{},{name:"url",hash:{},data:a,loc:{start:{line:8,column:25},end:{line:8,column:32}}}):o)+'">'},6:function(l,n,t,e,a){var o,i=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return'\t\t\t\t\t\t<div class="subtitle">'+l.escapeExpression("function"==typeof(o=null!=(o=i(t,"subtitle")||(null!=n?i(n,"subtitle"):n))?o:l.hooks.helperMissing)?o.call(null!=n?n:l.nullContext||{},{name:"subtitle",hash:{},data:a,loc:{start:{line:11,column:28},end:{line:11,column:40}}}):o)+"</div>\n"},8:function(l,n,t,e,a){return"</a>"},10:function(l,n,t,e,a){var o,i,s=null!=n?n:l.nullContext||{},r=l.hooks.helperMissing,c=l.escapeExpression,u=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return'\t\t\t\t<li class="tool inactive-toggle" data-id="'+c("function"==typeof(i=null!=(i=u(t,"id")||(null!=n?u(n,"id"):n))?i:r)?i.call(s,{name:"id",hash:{},data:a,loc:{start:{line:23,column:46},end:{line:23,column:52}}}):i)+'">\n\t\t\t\t\t<div class="radio">\n\t\t\t\t\t\t<input type="checkbox" id="inactive-groups-toggle" name="radio-small"'+(null!=(o=u(t,"if").call(s,null!=n?u(n,"inactiveToggleChecked"):n,{name:"if",hash:{},fn:l.program(11,a,0),inverse:l.noop,data:a,loc:{start:{line:25,column:75},end:{line:25,column:129}}}))?o:"")+'>\n\t\t\t\t\t\t<label for="inactive-groups-toggle">\n\t\t\t\t\t\t\t<div class="square"></div>\n\t\t\t\t\t\t\t<span>'+c((u(t,"intlHTMLMessage")||n&&u(n,"intlHTMLMessage")||r).call(s,{name:"intlHTMLMessage",hash:{intlName:"search.HIDE_INACTIVE_GROUPS"},data:a,loc:{start:{line:28,column:13},end:{line:28,column:71}}}))+"</span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n"},11:function(l,n,t,e,a){return' checked="checked"'},13:function(l,n,t,e,a){var o,i,s=null!=n?n:l.nullContext||{},r=l.hooks.helperMissing,c="function",u=l.escapeExpression,d=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return'\t\t\t\t<li class="tool toggle toggle-view-type toggle-justified'+(null!=(o=d(t,"if").call(s,null!=n?d(n,"viewTypeJustified"):n,{name:"if",hash:{},fn:l.program(2,a,0),inverse:l.noop,data:a,loc:{start:{line:34,column:60},end:{line:34,column:101}}}))?o:"")+'" data-id="'+u(typeof(i=null!=(i=d(t,"id")||(null!=n?d(n,"id"):n))?i:r)===c?i.call(s,{name:"id",hash:{},data:a,loc:{start:{line:34,column:112},end:{line:34,column:118}}}):i)+'">\n\t\t\t\t\t<a href="'+u(typeof(i=null!=(i=d(t,"justUrl")||(null!=n?d(n,"justUrl"):n))?i:r)===c?i.call(s,{name:"justUrl",hash:{},data:a,loc:{start:{line:35,column:14},end:{line:35,column:25}}}):i)+'" title="'+u((d(t,"intlHTMLMessage")||n&&d(n,"intlHTMLMessage")||r).call(s,{name:"intlHTMLMessage",hash:{intlName:"search.JUSTIFIED_VIEW"},data:a,loc:{start:{line:35,column:34},end:{line:35,column:86}}}))+'" class="toggle-view just" data-track="search-layout-justified"></a>\n\t\t\t\t</li>\n\t\t\t\t<li class="tool toggle toggle-view-type toggle-thumb'+(null!=(o=d(t,"unless").call(s,null!=n?d(n,"viewTypeJustified"):n,{name:"unless",hash:{},fn:l.program(2,a,0),inverse:l.noop,data:a,loc:{start:{line:37,column:56},end:{line:37,column:105}}}))?o:"")+'" data-id="'+u(typeof(i=null!=(i=d(t,"id")||(null!=n?d(n,"id"):n))?i:r)===c?i.call(s,{name:"id",hash:{},data:a,loc:{start:{line:37,column:116},end:{line:37,column:122}}}):i)+'">\n\t\t\t\t\t<a href="'+u(typeof(i=null!=(i=d(t,"thumbUrl")||(null!=n?d(n,"thumbUrl"):n))?i:r)===c?i.call(s,{name:"thumbUrl",hash:{},data:a,loc:{start:{line:38,column:14},end:{line:38,column:26}}}):i)+'" title="'+u((d(t,"intlHTMLMessage")||n&&d(n,"intlHTMLMessage")||r).call(s,{name:"intlHTMLMessage",hash:{intlName:"search.THUMBNAIL_VIEW"},data:a,loc:{start:{line:38,column:35},end:{line:38,column:87}}}))+'" class="toggle-view thumb" data-track="search-layout-thumbs"></a>\n\t\t\t\t</li>\n'},15:function(l,n,t,e,a){var o,i,s=null!=n?n:l.nullContext||{},r=l.hooks.helperMissing,c=l.escapeExpression,u=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return'\t\t\t\t<li class="tool sort" data-id="'+c("function"==typeof(i=null!=(i=u(t,"id")||(null!=n?u(n,"id"):n))?i:r)?i.call(s,{name:"id",hash:{},data:a,loc:{start:{line:42,column:35},end:{line:42,column:41}}}):i)+'">\n\t\t\t\t\t<a href="#" title="'+c((u(t,"intlHTMLMessage")||n&&u(n,"intlHTMLMessage")||r).call(s,{name:"intlHTMLMessage",hash:{intlName:"search.SORT"},data:a,loc:{start:{line:43,column:24},end:{line:43,column:66}}}))+'" class="menu-anchor">'+c(l.lambda(null!=(o=null!=n?u(n,"selectedSort"):n)?u(o,"text"):o,n))+"<span></span></a>\n\t\t\t\t</li>\n"},17:function(l,n,t,e,a){var o,i,s=null!=n?n:l.nullContext||{},r=l.hooks.helperMissing,c=l.escapeExpression,u=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return'\t\t\t\t<li class="tool toggle toggle-advanced'+(null!=(o=u(t,"if").call(s,null!=n?u(n,"advancedPanelVisible"):n,{name:"if",hash:{},fn:l.program(18,a,0),inverse:l.noop,data:a,loc:{start:{line:47,column:42},end:{line:47,column:94}}}))?o:"")+'" data-id="'+c("function"==typeof(i=null!=(i=u(t,"id")||(null!=n?u(n,"id"):n))?i:r)?i.call(s,{name:"id",hash:{},data:a,loc:{start:{line:47,column:105},end:{line:47,column:111}}}):i)+'">\n\t\t\t\t\t<a title="'+c((u(t,"intlHTMLMessage")||n&&u(n,"intlHTMLMessage")||r).call(s,{name:"intlHTMLMessage",hash:{intlName:"search.TOGGLE_ADVANCED"},data:a,loc:{start:{line:48,column:15},end:{line:48,column:68}}}))+'" href="#"><span></span>'+c((u(t,"intlHTMLMessage")||n&&u(n,"intlHTMLMessage")||r).call(s,{name:"intlHTMLMessage",hash:{intlName:"search.ADVANCED"},data:a,loc:{start:{line:48,column:92},end:{line:48,column:138}}}))+"</a>\n\t\t\t\t</li>\n"},18:function(l,n,t,e,a){return" advanced-visible"},20:function(l,n,t,e,a){var o=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return'\t\t\t\t\t<li class="tool advanced-clear">\n\t\t\t\t\t\t<a href="#" class="advanced-clear-link">'+l.escapeExpression((o(t,"intlHTMLMessage")||n&&o(n,"intlHTMLMessage")||l.hooks.helperMissing).call(null!=n?n:l.nullContext||{},{name:"intlHTMLMessage",hash:{intlName:"search.CLEAR"},data:a,loc:{start:{line:53,column:46},end:{line:53,column:89}}}))+"</a>\n\t\t\t\t\t</li>\n"},compiler:[8,">= 4.3.0"],main:function(l,n,t,e,a){var o,i=null!=n?n:l.nullContext||{},s=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return'<div class="search-subnav">\n\t<div class="search-subnav-sizing fluid-centered">\n\t\t<div class="search-subnav-content">\n\t\t\t\n\t\t\t<ul class="links">\n'+(null!=(o=s(t,"each").call(i,null!=n?s(n,"links"):n,{name:"each",hash:{},fn:l.program(1,a,0),inverse:l.noop,data:a,loc:{start:{line:6,column:3},end:{line:18,column:12}}}))?o:"")+'\t\t\t</ul>\n\n\t\t\t<ul class="tools">\n'+(null!=(o=s(t,"if").call(i,null!=n?s(n,"showInactiveToggle"):n,{name:"if",hash:{},fn:l.program(10,a,0),inverse:l.noop,data:a,loc:{start:{line:22,column:4},end:{line:32,column:11}}}))?o:"")+(null!=(o=s(t,"if").call(i,null!=n?s(n,"showTools"):n,{name:"if",hash:{},fn:l.program(13,a,0),inverse:l.noop,data:a,loc:{start:{line:33,column:4},end:{line:40,column:11}}}))?o:"")+(null!=(o=s(t,"if").call(i,null!=n?s(n,"showSort"):n,{name:"if",hash:{},fn:l.program(15,a,0),inverse:l.noop,data:a,loc:{start:{line:41,column:4},end:{line:45,column:11}}}))?o:"")+(null!=(o=s(t,"if").call(i,null!=n?s(n,"showAdvanced"):n,{name:"if",hash:{},fn:l.program(17,a,0),inverse:l.noop,data:a,loc:{start:{line:46,column:4},end:{line:50,column:11}}}))?o:"")+(null!=(o=s(t,"if").call(i,null!=n?s(n,"showAdvancedClearLink"):n,{name:"if",hash:{},fn:l.program(20,a,0),inverse:l.noop,data:a,loc:{start:{line:51,column:4},end:{line:55,column:11}}}))?o:"")+"\t\t\t</ul>\n\t\t\t\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),e={};l.Array.each([],(function(n){var t=l.Template.get("hermes/"+n);t&&(e[n]=t)})),l.Template.register("hermes/search-subnav",(function(n,a){return(a=a||{}).partials=a.partials?l.merge(e,a.partials):e,t(n,a)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});